indexWinter <- which(data$Month == 12 & data$Month == 2)
mydata$Season[indexSpring] <- 'Spring'
mydata$Season[indexSummer] <- 'Summer'
mydata$Season[indexAutumn] <- 'Autumn'
mydata$Season[indexWinter] <- 'Winter'
#mydata$Season[ mydata$Season == 3] <- 'Spring'
# This chunk just sets echo = TRUE as default (i.e. print all code)
knitr::opts_chunk$set(echo = TRUE, tidy = FALSE)
library(magrittr)
library(XLConnect)
library(rstan)
library(nnet)
library(epitools)
library(aaltobda)
library(tinytex)
library(MASS)
library(mvtnorm)
library(ggplot2)
library(rstan)
library(devtools)
library(brms)
library(loo)
library(KernSmooth)
data <- read.csv("suicide attempt data_2.csv", stringsAsFactors=FALSE)
mydata <- data
mydata$Season <- mydata$Month
indexSpring <- which(data$Month >= 3 & data$Month <= 5)
indexSummer <- which(data$Month >= 6 & data$Month <= 8)
indexAutumn <- which(data$Month >= 9 & data$Month <= 11)
indexWinter <- which(data$Month == 1 & data$Month == 2)
mydata$Season[indexSpring] <- 'Spring'
mydata$Season[indexSummer] <- 'Summer'
mydata$Season[indexAutumn] <- 'Autumn'
mydata$Season[indexWinter] <- 'Winter'
#mydata$Season[ mydata$Season == 3] <- 'Spring'
# This chunk just sets echo = TRUE as default (i.e. print all code)
knitr::opts_chunk$set(echo = TRUE, tidy = FALSE)
library(magrittr)
library(XLConnect)
library(rstan)
library(nnet)
library(epitools)
library(aaltobda)
library(tinytex)
library(MASS)
library(mvtnorm)
library(ggplot2)
library(rstan)
library(devtools)
library(brms)
library(loo)
library(KernSmooth)
data <- read.csv("suicide attempt data_2.csv", stringsAsFactors=FALSE)
mydata <- data
mydata$Season <- mydata$Month
indexSpring <- which(data$Month >= 3 & data$Month <= 5)
indexSummer <- which(data$Month >= 6 & data$Month <= 8)
indexAutumn <- which(data$Month >= 9 & data$Month <= 11)
indexWinter <- which(data$Month == 12)
mydata$Season[indexSpring] <- 'Spring'
mydata$Season[indexSummer] <- 'Summer'
mydata$Season[indexAutumn] <- 'Autumn'
mydata$Season[indexWinter] <- 'Winter'
#mydata$Season[ mydata$Season == 3] <- 'Spring'
# This chunk just sets echo = TRUE as default (i.e. print all code)
knitr::opts_chunk$set(echo = TRUE, tidy = FALSE)
library(magrittr)
library(XLConnect)
library(rstan)
library(nnet)
library(epitools)
library(aaltobda)
library(tinytex)
library(MASS)
library(mvtnorm)
library(ggplot2)
library(rstan)
library(devtools)
library(brms)
library(loo)
library(KernSmooth)
data <- read.csv("suicide attempt data_2.csv", stringsAsFactors=FALSE)
mydata <- data
mydata$Season <- mydata$Month
indexSpring <- which(data$Month >= 3 & data$Month <= 5)
indexSummer <- which(data$Month >= 6 & data$Month <= 8)
indexAutumn <- which(data$Month >= 9 & data$Month <= 11)
indexWinter <- which(data$Month == 12 & mydata$Season <= 2)
mydata$Season[indexSpring] <- 'Spring'
mydata$Season[indexSummer] <- 'Summer'
mydata$Season[indexAutumn] <- 'Autumn'
mydata$Season[indexWinter] <- 'Winter'
#mydata$Season[ mydata$Season == 3] <- 'Spring'
# This chunk just sets echo = TRUE as default (i.e. print all code)
knitr::opts_chunk$set(echo = TRUE, tidy = FALSE)
library(magrittr)
library(XLConnect)
library(rstan)
library(nnet)
library(epitools)
library(aaltobda)
library(tinytex)
library(MASS)
library(mvtnorm)
library(ggplot2)
library(rstan)
library(devtools)
library(brms)
library(loo)
library(KernSmooth)
data <- read.csv("suicide attempt data_2.csv", stringsAsFactors=FALSE)
mydata <- data
mydata$Season <- mydata$Month
indexSpring <- which(data$Month >= 3 & data$Month <= 5)
indexSummer <- which(data$Month >= 6 & data$Month <= 8)
indexAutumn <- which(data$Month >= 9 & data$Month <= 11)
indexWinter <- which(data$Month == 12 | mydata$Season <= 2)
mydata$Season[indexSpring] <- 'Spring'
mydata$Season[indexSummer] <- 'Summer'
mydata$Season[indexAutumn] <- 'Autumn'
mydata$Season[indexWinter] <- 'Winter'
#mydata$Season[ mydata$Season == 3] <- 'Spring'
# This chunk just sets echo = TRUE as default (i.e. print all code)
knitr::opts_chunk$set(echo = TRUE, tidy = FALSE)
library(magrittr)
library(XLConnect)
library(rstan)
library(nnet)
library(epitools)
library(aaltobda)
library(tinytex)
library(MASS)
library(mvtnorm)
library(ggplot2)
library(rstan)
library(devtools)
library(brms)
library(loo)
library(KernSmooth)
data <- read.csv("suicide attempt data_2.csv", stringsAsFactors=FALSE)
mydata <- data
mydata$Season <- mydata$Month
indexSpring <- which(data$Month >= 3 & data$Month <= 5)
indexSummer <- which(data$Month >= 6 & data$Month <= 8)
indexAutumn <- which(data$Month >= 9 & data$Month <= 11)
indexWinter <- which(data$Month == 12 | data$Month <= 2)
mydata$Season[indexSpring] <- 'Spring'
mydata$Season[indexSummer] <- 'Summer'
mydata$Season[indexAutumn] <- 'Autumn'
mydata$Season[indexWinter] <- 'Winter'
#mydata$Season[ mydata$Season == 3] <- 'Spring'
# This chunk just sets echo = TRUE as default (i.e. print all code)
knitr::opts_chunk$set(echo = TRUE, tidy = FALSE)
library(magrittr)
library(XLConnect)
library(rstan)
library(nnet)
library(epitools)
library(aaltobda)
library(tinytex)
library(MASS)
library(mvtnorm)
library(ggplot2)
library(rstan)
library(devtools)
library(brms)
library(loo)
library(KernSmooth)
data <- read.csv("suicide attempt data_2.csv", stringsAsFactors=FALSE)
mydata <- data
mydata$Season <- data$Month
indexSpring <- which(data$Month >= 3 & data$Month <= 5)
indexSummer <- which(data$Month >= 6 & data$Month <= 8)
indexAutumn <- which(data$Month >= 9 & data$Month <= 11)
indexWinter <- which(data$Month == 12 | data$Month <= 2)
mydata$Season[indexSpring] <- 'Spring'
mydata$Season[indexSummer] <- 'Summer'
mydata$Season[indexAutumn] <- 'Autumn'
mydata$Season[indexWinter] <- 'Winter'
indexAgeOne   <- which(data$Age <= 34)
indexAgeTwo   <- which(data$Age >= 35 & data$Age <= 49)
indexAgeThree <- which(data$Age >= 50 & data$Age <= 64)
indexAgeFour  <- which(data$Age >= 65)
mydata$Age[indexAgeOne]   <- '<34'
mydata$Age[indexAgeTwo]   <- '35-49'
mydata$Age[indexAgeThree] <- '50-64'
mydata$Age[indexAgeFour]  <- '>65'
#mydata$Season[ mydata$Season == 3] <- 'Spring'
# This chunk just sets echo = TRUE as default (i.e. print all code)
knitr::opts_chunk$set(echo = TRUE, tidy = FALSE)
library(magrittr)
library(XLConnect)
library(rstan)
library(nnet)
library(epitools)
library(aaltobda)
library(tinytex)
library(MASS)
library(mvtnorm)
library(ggplot2)
library(rstan)
library(devtools)
library(brms)
library(loo)
library(KernSmooth)
data <- read.csv("suicide attempt data_2.csv", stringsAsFactors=FALSE)
mydata <- data
mydata$Season <- data$Month
mydata$Month = NULL
indexSpring <- which(data$Month >= 3 & data$Month <= 5)
indexSummer <- which(data$Month >= 6 & data$Month <= 8)
indexAutumn <- which(data$Month >= 9 & data$Month <= 11)
indexWinter <- which(data$Month == 12 | data$Month <= 2)
mydata$Season[indexSpring] <- 'Spring'
mydata$Season[indexSummer] <- 'Summer'
mydata$Season[indexAutumn] <- 'Autumn'
mydata$Season[indexWinter] <- 'Winter'
indexAgeOne   <- which(data$Age <= 34)
indexAgeTwo   <- which(data$Age >= 35 & data$Age <= 49)
indexAgeThree <- which(data$Age >= 50 & data$Age <= 64)
indexAgeFour  <- which(data$Age >= 65)
mydata$Age[indexAgeOne]   <- '<34'
mydata$Age[indexAgeTwo]   <- '35-49'
mydata$Age[indexAgeThree] <- '50-64'
mydata$Age[indexAgeFour]  <- '>65
#mydata$Season[ mydata$Season == 3] <- 'Spring'
# This chunk just sets echo = TRUE as default (i.e. print all code)
knitr::opts_chunk$set(echo = TRUE, tidy = FALSE)
library(magrittr)
library(XLConnect)
library(rstan)
library(nnet)
library(epitools)
library(aaltobda)
library(tinytex)
library(MASS)
library(mvtnorm)
library(ggplot2)
library(rstan)
library(devtools)
library(brms)
library(loo)
library(KernSmooth)
data <- read.csv("suicide attempt data_2.csv", stringsAsFactors=FALSE)
mydata <- data
mydata$Season <- data$Month
mydata$Month = NULL
indexSpring <- which(data$Month >= 3 & data$Month <= 5)
indexSummer <- which(data$Month >= 6 & data$Month <= 8)
indexAutumn <- which(data$Month >= 9 & data$Month <= 11)
indexWinter <- which(data$Month == 12 | data$Month <= 2)
mydata$Season[indexSpring] <- 'Spring'
mydata$Season[indexSummer] <- 'Summer'
mydata$Season[indexAutumn] <- 'Autumn'
mydata$Season[indexWinter] <- 'Winter'
indexAgeOne   <- which(data$Age <= 34)
indexAgeTwo   <- which(data$Age >= 35 & data$Age <= 49)
indexAgeThree <- which(data$Age >= 50 & data$Age <= 64)
indexAgeFour  <- which(data$Age >= 65)
mydata$Age[indexAgeOne]   <- '<34'
mydata$Age[indexAgeTwo]   <- '35-49'
mydata$Age[indexAgeThree] <- '50-64'
mydata$Age[indexAgeFour]  <- '>65'
indexFarm   <- which(data$Occupation == 'farming')
indexNoFarm <- which(data$Occupation != 'farming')
mydata$Occupation[indexFarm]   <- 'farming'
mydata$Occupation[indexNoFarm] <- 'others'
# This chunk just sets echo = TRUE as default (i.e. print all code)
knitr::opts_chunk$set(echo = TRUE, tidy = FALSE)
library(magrittr)
library(XLConnect)
library(rstan)
library(nnet)
library(epitools)
library(aaltobda)
library(tinytex)
library(MASS)
library(mvtnorm)
library(ggplot2)
library(rstan)
library(devtools)
library(brms)
library(loo)
library(KernSmooth)
data <- read.csv("suicide attempt data_2.csv", stringsAsFactors=FALSE)
mydata <- data
mydata$Season <- data$Month
mydata$Month = NULL
indexSpring <- which(data$Month >= 3 & data$Month <= 5)
indexSummer <- which(data$Month >= 6 & data$Month <= 8)
indexAutumn <- which(data$Month >= 9 & data$Month <= 11)
indexWinter <- which(data$Month == 12 | data$Month <= 2)
mydata$Season[indexSpring] <- 'Spring'
mydata$Season[indexSummer] <- 'Summer'
mydata$Season[indexAutumn] <- 'Autumn'
mydata$Season[indexWinter] <- 'Winter'
indexAgeOne   <- which(data$Age <= 34)
indexAgeTwo   <- which(data$Age >= 35 & data$Age <= 49)
indexAgeThree <- which(data$Age >= 50 & data$Age <= 64)
indexAgeFour  <- which(data$Age >= 65)
mydata$Age[indexAgeOne]   <- '<34'
mydata$Age[indexAgeTwo]   <- '35-49'
mydata$Age[indexAgeThree] <- '50-64'
mydata$Age[indexAgeFour]  <- '>65'
indexFarm   <- which(data$Occupation == 'farming')
indexNoFarm <- which(data$Occupation != 'farming')
mydata$Occupation[indexFarm]   <- 'farming'
mydata$Occupation[indexNoFarm] <- 'others'
indexOthers <- which(data$method != 'Pesticide' &
data$method != 'Other poison' &
data$method != 'hanging')
mydata$method[indexOthers] <- 'All others'
# This chunk just sets echo = TRUE as default (i.e. print all code)
knitr::opts_chunk$set(echo = TRUE, tidy = FALSE)
library(magrittr)
library(XLConnect)
library(rstan)
library(nnet)
library(epitools)
library(aaltobda)
library(tinytex)
library(MASS)
library(mvtnorm)
library(ggplot2)
library(rstan)
library(devtools)
library(brms)
library(loo)
library(KernSmooth)
data <- read.csv("suicide attempt data_2.csv", stringsAsFactors=FALSE)
mydata <- data
mydata$Season <- data$Month
mydata$Month = NULL
indexSpring <- which(data$Month >= 3 & data$Month <= 5)
indexSummer <- which(data$Month >= 6 & data$Month <= 8)
indexAutumn <- which(data$Month >= 9 & data$Month <= 11)
indexWinter <- which(data$Month == 12 | data$Month <= 2)
mydata$Season[indexSpring] <- 'Spring'
mydata$Season[indexSummer] <- 'Summer'
mydata$Season[indexAutumn] <- 'Autumn'
mydata$Season[indexWinter] <- 'Winter'
indexAgeOne   <- which(data$Age <= 34)
indexAgeTwo   <- which(data$Age >= 35 & data$Age <= 49)
indexAgeThree <- which(data$Age >= 50 & data$Age <= 64)
indexAgeFour  <- which(data$Age >= 65)
mydata$Age[indexAgeOne]   <- '<34'
mydata$Age[indexAgeTwo]   <- '35-49'
mydata$Age[indexAgeThree] <- '50-64'
mydata$Age[indexAgeFour]  <- '>65'
indexFarm   <- which(data$Occupation == 'farming')
indexNoFarm <- which(data$Occupation != 'farming')
mydata$Occupation[indexFarm]   <- 'farming'
mydata$Occupation[indexNoFarm] <- 'others'
indexOthers <- which(data$method != 'Pesticide' &
data$method != 'Other poison' &
data$method != 'hanging')
mydata$method[indexOthers] <- 'All others'
summary(mydata)
# This chunk just sets echo = TRUE as default (i.e. print all code)
knitr::opts_chunk$set(echo = TRUE, tidy = FALSE)
library(magrittr)
library(XLConnect)
library(rstan)
library(nnet)
library(epitools)
library(aaltobda)
library(tinytex)
library(MASS)
library(mvtnorm)
library(ggplot2)
library(rstan)
library(devtools)
library(brms)
library(loo)
library(KernSmooth)
data <- read.csv("suicide attempt data_2.csv", stringsAsFactors=FALSE)
mydata <- data
mydata$Season <- data$Month
mydata$Month = NULL
indexSpring <- which(data$Month >= 3 & data$Month <= 5)
indexSummer <- which(data$Month >= 6 & data$Month <= 8)
indexAutumn <- which(data$Month >= 9 & data$Month <= 11)
indexWinter <- which(data$Month == 12 | data$Month <= 2)
mydata$Season[indexSpring] <- 'Spring'
mydata$Season[indexSummer] <- 'Summer'
mydata$Season[indexAutumn] <- 'Autumn'
mydata$Season[indexWinter] <- 'Winter'
indexAgeOne   <- which(data$Age <= 34)
indexAgeTwo   <- which(data$Age >= 35 & data$Age <= 49)
indexAgeThree <- which(data$Age >= 50 & data$Age <= 64)
indexAgeFour  <- which(data$Age >= 65)
mydata$Age[indexAgeOne]   <- '<34'
mydata$Age[indexAgeTwo]   <- '35-49'
mydata$Age[indexAgeThree] <- '50-64'
mydata$Age[indexAgeFour]  <- '>65'
indexFarm   <- which(data$Occupation == 'farming')
indexNoFarm <- which(data$Occupation != 'farming')
mydata$Occupation[indexFarm]   <- 'farming'
mydata$Occupation[indexNoFarm] <- 'others'
indexOthers <- which(data$method != 'Pesticide' &
data$method != 'Other poison' &
data$method != 'hanging')
mydata$method[indexOthers] <- 'All others'
str(mydata)
# This chunk just sets echo = TRUE as default (i.e. print all code)
knitr::opts_chunk$set(echo = TRUE, tidy = FALSE)
library(magrittr)
library(XLConnect)
library(rstan)
library(nnet)
library(epitools)
library(aaltobda)
library(tinytex)
library(MASS)
library(mvtnorm)
library(ggplot2)
library(rstan)
library(devtools)
library(brms)
library(loo)
library(KernSmooth)
data <- read.csv("suicide attempt data_2.csv", stringsAsFactors=FALSE)
mydata <- data
mydata$Season <- data$Month
mydata$Month = NULL
indexSpring <- which(data$Month >= 3 & data$Month <= 5)
indexSummer <- which(data$Month >= 6 & data$Month <= 8)
indexAutumn <- which(data$Month >= 9 & data$Month <= 11)
indexWinter <- which(data$Month == 12 | data$Month <= 2)
mydata$Season[indexSpring] <- 'Spring'
mydata$Season[indexSummer] <- 'Summer'
mydata$Season[indexAutumn] <- 'Autumn'
mydata$Season[indexWinter] <- 'Winter'
indexAgeOne   <- which(data$Age <= 34)
indexAgeTwo   <- which(data$Age >= 35 & data$Age <= 49)
indexAgeThree <- which(data$Age >= 50 & data$Age <= 64)
indexAgeFour  <- which(data$Age >= 65)
mydata$Age[indexAgeOne]   <- '<34'
mydata$Age[indexAgeTwo]   <- '35-49'
mydata$Age[indexAgeThree] <- '50-64'
mydata$Age[indexAgeFour]  <- '>65'
indexFarm   <- which(data$Occupation == 'farming')
indexNoFarm <- which(data$Occupation != 'farming')
mydata$Occupation[indexFarm]   <- 'farming'
mydata$Occupation[indexNoFarm] <- 'others'
indexOthers <- which(data$method != 'Pesticide' &
data$method != 'Other poison' &
data$method != 'hanging')
mydata$method[indexOthers] <- 'All others'
str(mydata)
# This chunk just sets echo = TRUE as default (i.e. print all code)
knitr::opts_chunk$set(echo = TRUE, tidy = FALSE)
library(magrittr)
library(XLConnect)
library(rstan)
library(nnet)
library(epitools)
library(aaltobda)
library(tinytex)
library(MASS)
library(mvtnorm)
library(ggplot2)
library(rstan)
library(devtools)
library(brms)
library(loo)
library(KernSmooth)
data <- read.csv("./suicide attempt data_2.csv", stringsAsFactors=FALSE)
mydata <- data
mydata$Season <- data$Month
mydata$Month = NULL
indexSpring <- which(data$Month >= 3 & data$Month <= 5)
indexSummer <- which(data$Month >= 6 & data$Month <= 8)
indexAutumn <- which(data$Month >= 9 & data$Month <= 11)
indexWinter <- which(data$Month == 12 | data$Month <= 2)
mydata$Season[indexSpring] <- 'Spring'
mydata$Season[indexSummer] <- 'Summer'
mydata$Season[indexAutumn] <- 'Autumn'
mydata$Season[indexWinter] <- 'Winter'
indexAgeOne   <- which(data$Age <= 34)
indexAgeTwo   <- which(data$Age >= 35 & data$Age <= 49)
indexAgeThree <- which(data$Age >= 50 & data$Age <= 64)
indexAgeFour  <- which(data$Age >= 65)
mydata$Age[indexAgeOne]   <- '<34'
mydata$Age[indexAgeTwo]   <- '35-49'
mydata$Age[indexAgeThree] <- '50-64'
mydata$Age[indexAgeFour]  <- '>65'
indexFarm   <- which(data$Occupation == 'farming')
indexNoFarm <- which(data$Occupation != 'farming')
mydata$Occupation[indexFarm]   <- 'farming'
mydata$Occupation[indexNoFarm] <- 'others'
indexOthers <- which(data$method != 'Pesticide' &
data$method != 'Other poison' &
data$method != 'hanging')
mydata$method[indexOthers] <- 'All others'
str(mydata)
## Create Stan data
dat <- list(N        = nrow(data),
p        = 10,
died     = data$Died,
urban    = data$Urban,
year     = data$Year,
month    = data$Season,
sex      = data$Sex,
age      = data$Age,
edu      = data$Education,
job      = data$Occupation,
method   = data$method)
## Load Stan file
fileName <- "./logistic_regression_model.stan"
stan_code <- readChar(fileName, file.info(fileName)$size)
cat(stan_code)
