install.packages("epitools")
# This chunk just sets echo = TRUE as default (i.e. print all code)
knitr::opts_chunk$set(echo = TRUE, tidy = FALSE)
library(nnet)
library(epitools)
library(aaltobda)
library(tinytex)
library(MASS)
library(mvtnorm)
library(ggplot2)
library(rstan)
library(devtools)
library(brms)
library(loo)
library(KernSmooth)
data <- read.csv("C:\\Users\\nicol\\Documents\\_study\\EIT\\second_year\\_bayesian_data_analysis\\project\\suicide attempt data_2.csv", stringsAsFactors=FALSE)
# This chunk just sets echo = TRUE as default (i.e. print all code)
knitr::opts_chunk$set(echo = TRUE, tidy = FALSE)
library(nnet)
library(epitools)
library(aaltobda)
library(tinytex)
library(MASS)
library(mvtnorm)
library(ggplot2)
library(rstan)
library(devtools)
library(brms)
library(loo)
library(KernSmooth)
data <- read.csv("suicide attempt data_2.csv", stringsAsFactors=FALSE)
rural_men   <- subset(data, data$Sex=="male" & data$Urban=="no")
rural_women <- subset(data, data$Sex=="female" & data$Urban=="no")
urban_men   <- subset(data, data$Sex=="male" & data$Urban=="yes")
urban_women <- subset(data, data$Sex=="female" & data$Urban=="yes")
mydata <- data
str(mydata)
mydata$Dead <- factor(mydata$Died)
mydata$out <- relevel(mydata$Dead, ref="no")
mymodel <- multinom(out~Hospitalised+Urban+Year+Month+Sex+Age+Education+Occupation+method, data = mydata)
summary(mymodel)
View(data)
View(mydata)
View(mydata)
index_for_spring <- which(data$Month >= 3 && data$Month <= 5)
index_for_spring <- which(data$Month >= 3 && data$Month <= 5)
index_for_spring
index_for_spring <- which(data$Month >= 3 & data$Month <= 5)
index_for_spring <- which(data$Month >= 3 & data$Month <= 5)
index_for_spring
indexOthers <- which(data$method != 'Pesticide' &
data$method != 'Other poison' &
data$method != 'Hanging')
mydata$method[indexOthers] <- 'All others'
View(mydata)
indexOthers <- which(data$method != 'Pesticide' &
data$method != 'Other poison' &
data$method != 'hanging')
mydata$method[indexOthers] <- 'All others'
# This chunk just sets echo = TRUE as default (i.e. print all code)
knitr::opts_chunk$set(echo = TRUE, tidy = FALSE)
library(magrittr)
library(XLConnect)
install.packages("XLConnect")
# This chunk just sets echo = TRUE as default (i.e. print all code)
knitr::opts_chunk$set(echo = TRUE, tidy = FALSE)
library(magrittr)
library(XLConnect)
install.packages("XLConnectJars")
# This chunk just sets echo = TRUE as default (i.e. print all code)
knitr::opts_chunk$set(echo = TRUE, tidy = FALSE)
library(magrittr)
library(XLConnect)
install.packages("XLConnect")
install.packages(c("backports", "callr", "caTools", "covr", "curl", "digest", "DT", "future", "htmltools", "htmlwidgets", "httpuv", "igraph", "knitr", "later", "pkgbuild", "promises", "purrr", "R6", "Rcpp", "RcppEigen", "rlang", "rmarkdown", "roxygen2", "scales", "shiny", "testthat", "xfun"))
install.packages(c("backports", "callr", "caTools", "covr", "curl", "digest", "DT", "future", "htmltools", "htmlwidgets", "httpuv", "igraph", "knitr", "later", "pkgbuild", "promises", "purrr", "R6", "Rcpp", "RcppEigen", "rlang", "rmarkdown", "roxygen2", "scales", "shiny", "testthat", "xfun"))
install.packages(c("backports", "callr", "caTools", "covr", "curl", "digest", "DT", "future", "htmltools", "htmlwidgets", "httpuv", "igraph", "knitr", "later", "pkgbuild", "promises", "purrr", "R6", "Rcpp", "RcppEigen", "rlang", "rmarkdown", "roxygen2", "scales", "shiny", "testthat", "xfun"))
# This chunk just sets echo = TRUE as default (i.e. print all code)
knitr::opts_chunk$set(echo = TRUE, tidy = FALSE)
library(magrittr)
library(XLConnect)
# This chunk just sets echo = TRUE as default (i.e. print all code)
knitr::opts_chunk$set(echo = TRUE, tidy = FALSE)
library(magrittr)
#library(XLConnect)
library(rstan)
library(nnet)
library(epitools)
library(aaltobda)
library(tinytex)
library(MASS)
library(mvtnorm)
library(ggplot2)
library(rstan)
library(devtools)
library(brms)
library(loo)
library(KernSmooth)
data <- read.csv("suicide attempt data_2.csv", stringsAsFactors=FALSE)
mydata <- data
mydata$Season <- data$Month
mydata$Month = NULL
indexSpring <- which(data$Month >= 3 & data$Month <= 5)
indexSummer <- which(data$Month >= 6 & data$Month <= 8)
indexAutumn <- which(data$Month >= 9 & data$Month <= 11)
indexWinter <- which(data$Month == 12 | data$Month <= 2)
mydata$Season[indexSpring] <- 'Spring'
mydata$Season[indexSummer] <- 'Summer'
mydata$Season[indexAutumn] <- 'Autumn'
mydata$Season[indexWinter] <- 'Winter'
indexAgeOne   <- which(data$Age <= 34)
indexAgeTwo   <- which(data$Age >= 35 & data$Age <= 49)
indexAgeThree <- which(data$Age >= 50 & data$Age <= 64)
indexAgeFour  <- which(data$Age >= 65)
mydata$Age[indexAgeOne]   <- '<34'
mydata$Age[indexAgeTwo]   <- '35-49'
mydata$Age[indexAgeThree] <- '50-64'
mydata$Age[indexAgeFour]  <- '>65'
indexFarm   <- which(data$Occupation == 'farming')
indexNoFarm <- which(data$Occupation != 'farming')
mydata$Occupation[indexFarm]   <- 'farming'
mydata$Occupation[indexNoFarm] <- 'others'
indexOthers <- which(data$method != 'Pesticide' &
data$method != 'Other poison' &
data$method != 'hanging')
mydata$method[indexOthers] <- 'All others'
str(mydata)
rural_men   <- subset(data, data$Sex=="male" & data$Urban=="no")
rural_women <- subset(data, data$Sex=="female" & data$Urban=="no")
urban_men   <- subset(data, data$Sex=="male" & data$Urban=="yes")
urban_women <- subset(data, data$Sex=="female" & data$Urban=="yes")
str(data)
dat <- list(N        = nrow(data),
p        = 10,
died     = data$Died,
urban    = data$Urban,
year     = data$Year,
month    = data$Month,
sex      = data$Sex,
age      = data$Age,
edu      = data$Education,
job      = data$Occupation,
method   = data$method)
View(mydata)
# This chunk just sets echo = TRUE as default (i.e. print all code)
knitr::opts_chunk$set(echo = TRUE, tidy = FALSE)
library(magrittr)
#library(XLConnect)
library(rstan)
library(nnet)
library(epitools)
library(aaltobda)
library(tinytex)
library(MASS)
library(mvtnorm)
library(ggplot2)
library(rstan)
library(devtools)
library(brms)
library(loo)
library(KernSmooth)
data <- read.csv("./suicide attempt data_2.csv", stringsAsFactors=FALSE)
length(which(mydata$Education) == 'unknown')
length(which(mydata$Education == 'unknown'))
length(which(mydata$Urban == 'unknown'))
